<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="generator" content="pandoc">
    <title>Software Carpentry: </title>
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" type="text/css" href="css/bootstrap/bootstrap.css" />
    <link rel="stylesheet" type="text/css" href="css/bootstrap/bootstrap-theme.css" />
    <link rel="stylesheet" type="text/css" href="css/swc.css" />
    <link rel="alternate" type="application/rss+xml" title="Software Carpentry Blog" href="http://software-carpentry.org/feed.xml"/>
    <meta charset="UTF-8" />
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body class="lesson">
    <div class="container card">
      <div class="banner">
        <a href="http://software-carpentry.org" title="Software Carpentry">
          <img alt="Software Carpentry banner" src="img/software-carpentry-banner.png" />
        </a>
      </div>
      <article>
      <div class="row">
        <div class="col-md-10 col-md-offset-1">
                    <h1 class="title"></h1>
          <h2 id="novice-r-materials---following-python-examples">Novice R materials - following Python examples</h2>
<ul>
<li>Draw concept map of where we are headed towards best scientific practices, and reproducibility.</li>
<li>Its really important that you know what you did. More journals/grants/etc. are also making it important for them to know what you did.</li>
<li>A lot of scientific code is NOT reproducible.</li>
<li>If you keep a lab notebook, why are we not as careful with our code.</li>
<li>We edit each others manuscripts, but we don’t edit each other’s code.</li>
<li>If you write your code with “future you” in mind, you will save yourself and others a lot of time.</li>
</ul>
<h2 id="very-basics-of-r">Very basics of R</h2>
<p>R is a versatile, open source programming/scripting language that’s useful both for statistics but also data science. Inspired by the programming language S.</p>
<ul>
<li>Open source software under GPL.<br /></li>
<li>Superior (if not just comparable) to commercial alternatives. R has over 5,000 user contributed packages at this time. It’s widely used both in academia and industry.<br /></li>
<li>Available on all platforms.<br /></li>
<li>Not just for statistics, but also general purpose programming.<br /></li>
<li>Is object oriented and functional.<br /></li>
<li>Large and growing community of peers.</li>
</ul>
<h2 id="introduction-to-r-and-rstudio">Introduction to R and RStudio</h2>
<p>Let’s start by learning about our tool.</p>
<p><em>Point out the different windows in R.</em></p>
<p>Compare R in RStudio to R on the command line. Point out why it’s nice to have all the extra views into what you’re working on.</p>
<ul>
<li>Console, Scripts, Environments, Plots</li>
<li>Avoid using shortcuts.</li>
<li>Code and workflow is more reproducible if we can document everything that we do.</li>
<li>Our end goal is not just to “do stuff” but to do it in a way that anyone can easily and exactly replicate our workflow and results.</li>
<li>Typing in console vs typing in text editor and sending to console. Always type in editor and send to console!</li>
<li>Always add some comment lines to the top of your file with your name and date, and what the purpose of the script is</li>
</ul>
<p>You can get output from R simply by typing in math</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="dv">3</span> +<span class="st"> </span><span class="dv">5</span>
<span class="dv">12</span>/<span class="dv">7</span></code></pre>
<p>or by typing words. Don’t even have to type <code>print</code> like in python.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="st">&quot;hello world&quot;</span></code></pre>
<p>We can annotate our code (take notes) by typing “#”. Everything to the right of # is ignored by R</p>
<p>We can save our results to an object, if we give it a name</p>
<pre class="sourceCode r"><code class="sourceCode r">a     &lt;-<span class="st"> </span><span class="dv">60</span> *<span class="st"> </span><span class="dv">60</span>
hours &lt;-<span class="st"> </span><span class="dv">365</span> *<span class="st"> </span><span class="dv">24</span></code></pre>
<p>Some of the same commands we will learn on the command line can be used in R. List objects in your current environment</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ls</span>()</code></pre>
<p>Remove objects from your current environment.</p>
<pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="dv">5</span>
<span class="kw">rm</span>(x)</code></pre>
<p>Remove all objects from your current environment. Typing <code>x</code> on the console will give you an error.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">rm</span>(<span class="dt">list =</span> <span class="kw">ls</span>())</code></pre>
<p>Notice that we have <em>nested</em> one function inside of another.</p>
<p>Use # signs to comment. Comment liberally in your R scripts. Anything to the right of a # is ignored by R.</p>
<p><strong>Assignment operator</strong></p>
<p><code>&lt;-</code> is the assignment operator. Assigns values on the right to objects on the left. Mostly similar to <code>=</code> but not always. Learn to use <code>&lt;-</code> as it is good programming practice. Using <code>=</code> in place of <code>&lt;-</code> can lead to issues down the line.</p>
<p><strong>Package management</strong></p>
<p><code>install.packages(&quot;package-name&quot;)</code> will download a package from one of the CRAN mirrors assuming that a binary is available for your operating system. If you have not set a preferred CRAN mirror in your options(), then a menu will pop up asking you to choose a location.</p>
<p>Use <code>old.packages()</code> to list all your locally installed packages that are now out of date. <code>update.packages()</code> will update all packages in the known libraries interactively. This can take a while if you haven’t done it recently. To update everything without any user intervention, use the <code>ask = FALSE</code> argument.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">update.packages</span>(<span class="dt">ask =</span> <span class="ot">FALSE</span>)</code></pre>
<p>The RStudio GUI option for updating packages is also quite useful, but it’s good to know how to do it in a script so you can make sure it’s done automatically.</p>
<h2 id="data-types">Data types</h2>
<p><strong>Understanding basic data types in R</strong></p>
<p>To make the best of the R language, you’ll need a strong understanding of the basic data types and data structures and how to operate on those.</p>
<p>Very Important to understand because these are the objects you will manipulate on a day-to-day basis in R. Dealing with object conversions is one of the most common sources of frustration for beginners.</p>
<p>Everything in R is an object.</p>
<p>R has 6 (although we will not discuss the raw class for this workshop) atomic classes.</p>
<ul>
<li>character</li>
<li>numeric (real or decimal)</li>
<li>integer</li>
<li>logical</li>
<li>complex</li>
</ul>
<p><strong>Example Type</strong></p>
<ul>
<li>“a”, “swc” character</li>
<li>2, 15.5 numeric</li>
<li>2 (Must add a L at end to denote integer) integer</li>
<li>TRUE, FALSE logical</li>
<li>1+4i complex</li>
</ul>
<p><code>typeof()</code> - what is it?<br /><code>length()</code> - how long is it? What about two dimensional objects?<br /><code>attributes()</code> - does it have any metadata?</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Example</span>
x &lt;-<span class="st"> &quot;dataset&quot;</span>
<span class="kw">typeof</span>(x)
<span class="kw">attributes</span>(x)

y &lt;-<span class="st"> </span><span class="dv">1</span>:<span class="dv">10</span>
<span class="kw">typeof</span>(y)
<span class="kw">length</span>(y)
<span class="kw">attributes</span>(y)

z &lt;-<span class="st"> </span><span class="kw">c</span>(1L, 2L, 3L)
<span class="kw">typeof</span>(z)</code></pre>
<h2 id="data-structures">Data Structures</h2>
<p>R has many different structures for storing the data you want to analyze. The most commonly used are</p>
<ul>
<li>vectors,</li>
<li>lists,</li>
<li>matrices,</li>
<li>arrays, and</li>
<li>data frames.</li>
</ul>
<p>It can be determined with the function <code>class()</code>.</p>
<p>The <em>type</em> or <em>mode</em> of an object defines how it is stored. It could be</p>
<ul>
<li>a character,</li>
<li>a numeric value,</li>
<li>an integer,</li>
<li>a complex number, or</li>
<li>a logical value (Boolean value: TRUE/FALSE).</li>
</ul>
<p>It can be determined with the function <code>mode()</code>.</p>
<p>Below is a short definition and quick example of each of these data structures which you can use to decide which is the best for representing your data in R.</p>
<h2 id="vectors">Vectors</h2>
<p>It is the most basic data type. Vectors only have one dimension and all their elements must be the same mode. There are various ways to create vectors. The simplest one is with the <code>c</code> function.</p>
<pre class="sourceCode r"><code class="sourceCode r">v1 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">5</span>)</code></pre>
<p>The <code>c</code> function allows to combine its arguments. If the arguments are of various modes, they will be reduced to their lowest common type:</p>
<pre class="sourceCode r"><code class="sourceCode r">v2 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="st">&quot;a&quot;</span>)
<span class="kw">mode</span>(v2)</code></pre>
<p>Objects can be explicitly coerced with the <code>as.</code> function.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">as.character</span>(v1)</code></pre>
<p>You can also use the <code>:</code> operator or the <code>seq</code> function:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="dv">1</span>:<span class="dv">10</span>
<span class="kw">seq</span>(<span class="dt">from =</span> <span class="dv">5</span>, <span class="dt">to =</span> <span class="dv">25</span>, <span class="dt">by =</span> <span class="dv">5</span>)</code></pre>
<h2 id="factors">Factors</h2>
<p>Factor is a special type of vector to store categorical values.</p>
<pre class="sourceCode r"><code class="sourceCode r">breed &lt;-<span class="st"> </span><span class="kw">factor</span>(<span class="kw">c</span>(<span class="st">&quot;Holstein&quot;</span>, <span class="st">&quot;Holstein&quot;</span>, <span class="st">&quot;Brown Swiss&quot;</span>, <span class="st">&quot;Holstein&quot;</span>,
                  <span class="st">&quot;Ayrshire&quot;</span>, <span class="st">&quot;Canadian&quot;</span>, <span class="st">&quot;Canadian&quot;</span>, <span class="st">&quot;Brown Swiss&quot;</span>,
                  <span class="st">&quot;Holstein&quot;</span>, <span class="st">&quot;Brown Swiss&quot;</span>, <span class="st">&quot;Holstein&quot;</span>))</code></pre>
<p>It stores values as a set of labeled integers. Some functions treat factors differently from numeric vectors.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">table</span>(breed)</code></pre>
<h2 id="lists">Lists</h2>
<p>A list is an ordered collection of objects where the objects can be of different modes.</p>
<pre class="sourceCode r"><code class="sourceCode r">l &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>)</code></pre>
<p>Each element of a list can be given a name and referred to by that name. Elements of a list can be accessed by their number or their name.</p>
<pre class="sourceCode r"><code class="sourceCode r">cow &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">breed =</span> <span class="st">&quot;Holstein&quot;</span>, <span class="dt">age =</span> <span class="dv">3</span>, <span class="dt">last.prod =</span> <span class="kw">c</span>(<span class="dv">25</span>, <span class="dv">35</span>, <span class="dv">32</span>))
cow$breed
cow[[<span class="dv">1</span>]]</code></pre>
<p>Lists can be used to hold together multiple values returned from a function. For example the elements used to create an histogram can be saved and returned. The <code>islands</code> data set is the area of major islands over 10,000 square miles (in thousands of square miles).</p>
<pre class="sourceCode r"><code class="sourceCode r">h &lt;-<span class="st"> </span><span class="kw">hist</span>(islands)</code></pre>
<div class="figure">
<img src="figure/unnamed-chunk-18-1.png" alt="plot of chunk unnamed-chunk-18" />
<p class="caption">plot of chunk unnamed-chunk-18</p>
</div>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str</span>(h)</code></pre>
<p>The function <code>str</code> is used here. It stands for <em>structure</em> and shows the internal structure of an R object.</p>
<h2 id="matrices">Matrices</h2>
<p>A matrix is a rectangular array of numbers. Technically, it is a vector with two additional attributes: number of rows and number of columns. This is what you would use to analyze a spreadsheet full of only numbers, or only words. You can create a matrix with the <code>matrix</code> function:</p>
<pre class="sourceCode r"><code class="sourceCode r">m &lt;-<span class="st"> </span><span class="kw">rbind</span>(<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">4</span>), <span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">2</span>))
m &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="dt">data =</span> <span class="dv">1</span>:<span class="dv">12</span>, <span class="dt">nrow =</span> <span class="dv">4</span>, <span class="dt">ncol =</span> <span class="dv">3</span>,
            <span class="dt">dimnames =</span> <span class="kw">list</span>(<span class="kw">c</span>(<span class="st">&quot;cow1&quot;</span>, <span class="st">&quot;cow2&quot;</span>, <span class="st">&quot;cow3&quot;</span>, <span class="st">&quot;cow4&quot;</span>),
                <span class="kw">c</span>(<span class="st">&quot;milk&quot;</span>, <span class="st">&quot;fat&quot;</span>, <span class="st">&quot;prot&quot;</span>)))</code></pre>
<h2 id="arrays">Arrays</h2>
<p>If a matrix is a two-dimensional data structure, we can add <em>layers</em> to the data and have further dimensions in addition to rows and columns. These datasets would be arrays. It can be created with the <code>array</code> function:</p>
<pre class="sourceCode r"><code class="sourceCode r">a &lt;-<span class="st"> </span><span class="kw">array</span>(<span class="dt">data =</span> <span class="dv">1</span>:<span class="dv">24</span>, <span class="dt">dim =</span> <span class="kw">c</span>(<span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">2</span>))</code></pre>
<h2 id="data-frames">Data frames</h2>
<p>Data frames are used to store tabular data: multiple rows, columns and format.</p>
<pre class="sourceCode r"><code class="sourceCode r">df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">cow =</span> <span class="kw">c</span>(<span class="st">&quot;Moo-Moo&quot;</span>, <span class="st">&quot;Daisy&quot;</span>, <span class="st">&quot;Elsie&quot;</span>),
                 <span class="dt">prod =</span> <span class="kw">c</span>(<span class="dv">35</span>, <span class="dv">40</span>, <span class="dv">28</span>),
                 <span class="dt">pregnant =</span> <span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">TRUE</span>))</code></pre>
<h3 id="useful-functions"><strong>Useful functions</strong></h3>
<ul>
<li><code>head()</code> - see first 6 rows</li>
<li><code>tail()</code> - see last 6 rows</li>
<li><code>dim()</code> - see dimensions</li>
<li><code>nrow()</code> - number of rows</li>
<li><code>ncol()</code> - number of columns</li>
<li><code>str()</code> - structure of each column</li>
<li><code>names()</code> - will list the names attribute for a data frame (or any object really), which gives the column names.</li>
<li>A data frame is a special type of list where every element of the list has same length.</li>
</ul>
<p>See that it is actually a special list:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">is.list</span>(iris)
<span class="kw">class</span>(iris)</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">Dimensions</th>
<th align="left">Homogenous</th>
<th align="left">Heterogeneous</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">1-D</td>
<td align="left">atomic vector</td>
<td align="left">list</td>
</tr>
<tr class="even">
<td align="left">2-D</td>
<td align="left">matrix</td>
<td align="left">data frame</td>
</tr>
</tbody>
</table>
<h3 id="indexing"><strong>Indexing</strong></h3>
<p>Vectors have positions, these positions are ordered and can be called using name_vector[index]</p>
<pre class="sourceCode r"><code class="sourceCode r">letters[<span class="dv">2</span>]</code></pre>
<h3 id="functions"><strong>Functions</strong></h3>
<p>A function is a saved object that takes inputs to perform a task. Functions take in information and return desired outputs.</p>
<p>output = name_of_function(inputs)</p>
<pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="dv">1</span>:<span class="dv">10</span>
y &lt;-<span class="st"> </span><span class="kw">sum</span>(x)</code></pre>
<h3 id="help"><strong>Help</strong></h3>
<p>All functions come with a help screen. It is critical that you learn to read the help screens since they provide important information on what the function does, how it works, and usually sample examples at the very bottom.</p>
<h3 id="install-new-functions"><strong>Install new functions</strong></h3>
<p>To install any new package <code>install.packages('ggplot2')</code></p>
        </div>
      </div>
      </article>
      <div class="footer">
        <a class="label swc-blue-bg" href="http://software-carpentry.org">Software Carpentry</a>
        <a class="label swc-blue-bg" href="https://github.com/swcarpentry/r-novice-inflammation">Source</a>
        <a class="label swc-blue-bg" href="mailto:admin@software-carpentry.org">Contact</a>
        <a class="label swc-blue-bg" href="LICENSE.html">License</a>
      </div>
    </div>
    <!-- Javascript placed at the end of the document so the pages load faster -->
    <script src="http://software-carpentry.org/v5/js/jquery-1.9.1.min.js"></script>
    <script src="css/bootstrap/bootstrap-js/bootstrap.js"></script>
  </body>
</html>
